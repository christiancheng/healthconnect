<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Compare Symptom</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <script src="js/jquery-3.3.1.min.js"></script> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
    crossorigin="anonymous">
  <link rel="stylesheet" href="awesomplete-gh-pages/awesomplete.css" />
  


  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>

<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="sidebar" id="sidebar">
      <a href="javascript:void(0)" class="closebtn" onclick="closeSide()">&times;</a>
      <br/>
      <span id="sidebartitle">&nbsp;HealthConnect</span>
      <br/>
      <br/>
      <a href="home.html">Home</a>
      <a href="map.html">Health Map</a>
      <span id="sidebartitle"><a href="symptomcheck.html">Symptom Check</a></span>
      <a href="myreports.html">My Reports</a>
      <br/>
      <a href="index.html">Log Out</a>
    </div>
  <div class="container header">
    <div class="row">
      <div style="text-align: center">
        <div class="hamb">
          <i class="fas fa-bars" onclick="openSide()"></i>
        </div>
        <h5 style="display: inline-block">Compare Symptoms</h5>
      </div>
    </div>
  </div>
  <div class="container">
    <p style="text-align: center; margin: 0; padding: 5px 0 5px 0; font-size: 16px;">Based on your symptoms and those reported by others nearby, it is possible that you have:</p> 
    <div class="container feed" style="height: 50vh; width: 95%; padding: 0px; text-align: left; margin: 0px">
      <div id="reportList" class="row feedbox list-group"style="background-color: white; height: 50vh">
      </div>
    </div>
    <br/>
    <p style="text-align: center; margin: 0; font-size: 12px; color:maroon"><strong>Disclaimer:</strong> This content is not intended to be a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.</p> 
    </div>
    <div class="row navbot" style="display: flex; justify-content: space-around;">
        <!----<a class="button button-primary but" href="myreports.html" style="padding: 0;">Add to Reports</a>-->
        <button style="margin:auto; background-color: var(--primary-color);" type="button" class="btn btn-primary" data-toggle="modal" data-target="#inputModal" id="reportButton">
            Add to Reports
        </button>
        <a class="btn btn-primary" href="home.html" role="button" style="margin:auto; background-color: var(--primary-color)">Go to Homepage</a>
    </div>

    <div class="modal fade" id="inputModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" style="margin:auto auto auto 12px; width:90%;" role="document">
            <div class="modal-content" style="color:black;">
            <div class="modal-header">
                <h5 class="modal-title"  id="exampleModalLongTitle">Add Health Report</h5>
            </div>
            <div class="modal-body" style="height:auto;">
                <label for="illnessInput">Illness</label>
                <input id="illnessInput" class="form-control" type="text" placeholder="e.x. Influenza">
                <div>
                    <label for="symptomList">Symptoms</label>
                    <div class="input-group mb-3" style="display:inline">
                    <input style="display:inline; width:80%; margin-bottom:15px;" id="userinput" type="text" class="form-control" placeholder="Add a symptom" aria-label="Add a Symptom" aria-describedby="basic-addon2">
                    <div style="display:inline;" class="input-group-append">
                        <button style ="background-color:var(--secondary-color); margin-bottom:15px;" class="btn btn-outline-info addSymptom" id="enter" type="button">Add</button>
                    </div>
                    </div>
                    <ul class="list-group symptomList"></ul>
                </div>

                <label for="locationInput">Location</label>
                <input id="locationInput" class="form-control" type="text" placeholder="e.x. La Jolla, CA">
            </div>
            <div class="modal-footer">
                <button type="button" style="float:left;" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button style ="background-color:var(--primary-color)" type="button" id="submitReport" class="btn btn-primary" data-dismiss="modal">Submit</button>
            </div>
            </div>
        </div>
    </div>

      <!-- Scripts------------------------------------------------- -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>      <!-- <script src="awesomplete.js" async></script> -->

      <script>
        function openSide() {
          document.getElementById("sidebar").style.width = "150px";
        }

        function closeSide() {
          document.getElementById("sidebar").style.width = "0";
        }

        $( document ).ready(function() {
          var disease = ["Meningitis B", "Whooping Cough", "Strep Throat", "Stomach Flu", "Common Cold", "Measles", "Bronchitis", "Stomache Ulcer", "Mononucleosis", "Pneumonia", "Scoliosis", "Shingles", "Tonsilitis", "Yellow Fever", "Malaria", "HIV", "Hand, Foot, and Mouth Disease", "Hay Fever"];
          var likelihoods = ["Strong match", "Moderate match", "Unlikely match"];
          var i;
          var l = 0;
          for(i = 0; i < 6; i++) {
            var d = Math.floor((Math.random() * disease.length));
            var numCases = Math.floor((Math.random() * 200))
            $('#reportList').append('<li class="entry' + i + ' list-group-item list-group-item-action" style="border-color: var(--primary-color)"><div class="myReport"><div><div class="illnessID" id="illness' + i + '" style="font-weight: bold; font-size: 15px">' + disease[d] + '</div>Likelihood: <div style="font-weight: bold; font-size: 12px; display: inline">' + likelihoods[l] + '</div><br /> Cases reported in your area: <div style="font-weight: bold; font-size: 12px; display: inline">' + numCases + '</li>');
            if(i % 2 == 1) {
              l = l + 1;
            }
            disease.splice(d, 1);
          }
          var illness = document.getElementById('illness0').textContent;
            document.getElementById('illnessInput').value = illness;
        })

        var button = document.getElementById("enter");
        var input = document.getElementById("userinput");
        var ul = document.querySelector("ul");

        button.addEventListener("click", function() {
          if(input.value != '') {
            var li = document.createElement("list-group-item");
            li.className = 'list-group-item';
            li.textContent = input.value;
            ul.appendChild(li);
          }
        });

        $(function(){
            console.log('ready');

            $('.list-group li').click(function(e) {
                e.preventDefault()

                $that = $(this);

                $that.parent().find('li').removeClass('active');
                $that.addClass('active');
                var illness = $that.find('.illnessID').text();
                document.getElementById('illnessInput').value = illness;
            });
        })

        $('.addSymptom').click(function() {
          $(this).parent().siblings('input[type="text"]').val('')
            .trigger('propertychange').focus();
        });

        $('#submitReport').click(function() {
            document.getElementById("reportButton").innerHTML = "Report Submitted!";
            document.getElementById("reportButton").setAttribute("disabled", "true");
        });        

        $('#inputModal').on('hidden.bs.modal', function (e) {
          $(this)
            .find("input,textarea,select")
              .val('')
              .end()
            .find("input[type=checkbox], input[type=radio]")
              .prop("checked", "")
              .end();
          $('.symptomList').empty();
        });

        $('#submitReport').click(function () {
          $('#submitSuccess').addClass('show');
        });
      </script>

      <!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>

</html>